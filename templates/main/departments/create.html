{% extends 'base.html' %}

{% block content %}
  <div class="container mt-5">
    <h2 class="mb-4">Создать новую кафедру</h2>

    <form method="post">
      {% csrf_token %}

      <div class="mb-3">
        <label for="id_name" class="form-label">Название кафедры</label>
        <input type="text" class="form-control" id="id_name" name="name" required>
      </div>

      <div class="mb-3">
        <label for="id_leader" class="form-label">Заведующий</label>
        <select class="form-select" id="id_leader" name="leader">
          <!-- Добавьте варианты выбора для всех преподавателей -->
          {% for teacher in all_teachers %}
            <option value="{{ teacher.id }}">{{ teacher.first_name }} {{ teacher.last_name }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="mb-3">
        <label for="id_faculty" class="form-label">Факультет</label>
        <select class="form-select" id="id_faculty" name="faculty">
          {% for faculty in object.faculty %}
            <option value="{{ faculty.id }}">{{ faculty.name }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="mb-3">
        <label for="id_room" class="form-label">Номер комнаты</label>
        <input type="number" class="form-control" id="id_room" name="room" required>
      </div>

      <div class="mb-3">
        <label for="id_housing" class="form-label">Номер корпуса</label>
        <input type="number" class="form-control" id="id_housing" name="housing" required>
      </div>

      <div class="mb-3">
        <label for="id_phone" class="form-label">Номер телефона</label>
        <input type="text" class="form-control" id="id_phone" name="phone" required>
      </div>

      <div class="mb-3">
        <label for="id_teachers" class="form-label">Преподаватели</label>
        <select multiple class="form-select" id="id_teachers" name="teachers">
          {% for teacher in form.teachers.all %}
            <option value="{{ teacher.id }}">{{ teacher.first_name }} {{ teacher.last_name }}</option>
          {% endfor %}
        </select>
      </div>

      <button type="submit" class="btn btn-primary">Создать кафедру</button>
    </form>

    <div class="mt-3">
      <a href="{% url 'main:department-list' %}" class="btn btn-secondary">Отмена</a>
    </div>
  </div>
{% endblock %}
